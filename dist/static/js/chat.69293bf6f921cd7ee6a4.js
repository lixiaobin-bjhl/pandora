webpackJsonp([3],{1:function(e,t,n){"use strict";function o(e){return"[object Array]"===S.call(e)}function r(e){return"[object ArrayBuffer]"===S.call(e)}function i(e){return"undefined"!=typeof FormData&&e instanceof FormData}function s(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function a(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e){return void 0===e}function f(e){return null!==e&&"object"==typeof e}function d(e){return"[object Date]"===S.call(e)}function l(e){return"[object File]"===S.call(e)}function A(e){return"[object Blob]"===S.call(e)}function p(e){return"[object Function]"===S.call(e)}function h(e){return f(e)&&p(e.pipe)}function m(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function g(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function v(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function y(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function w(){function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=w(t[n],e):t[n]=e}for(var t={},n=0,o=arguments.length;n<o;n++)y(arguments[n],e);return t}function M(e,t,n){return y(t,function(t,o){e[o]=n&&"function"==typeof t?x(t,n):t}),e}var x=n(10),b=n(25),S=Object.prototype.toString;e.exports={isArray:o,isArrayBuffer:r,isBuffer:b,isFormData:i,isArrayBufferView:s,isString:a,isNumber:u,isObject:f,isUndefined:c,isDate:d,isFile:l,isBlob:A,isFunction:p,isStream:h,isURLSearchParams:m,isStandardBrowserEnv:v,forEach:y,merge:w,extend:M,trim:g}},10:function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}}},11:function(e,t,n){"use strict";var o=n(1),r=n(28),i=n(30),s=n(31),a=n(32),u=n(12),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(33);e.exports=function(e){return new Promise(function(t,f){var d=e.data,l=e.headers;o.isFormData(d)&&delete l["Content-Type"];var A=new XMLHttpRequest,p="onreadystatechange",h=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in A||a(e.url)||(A=new window.XDomainRequest,p="onload",h=!0,A.onprogress=function(){},A.ontimeout=function(){}),e.auth){var m=e.auth.username||"",g=e.auth.password||"";l.Authorization="Basic "+c(m+":"+g)}if(A.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),A.timeout=e.timeout,A[p]=function(){if(A&&(4===A.readyState||h)&&(0!==A.status||A.responseURL&&0===A.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in A?s(A.getAllResponseHeaders()):null,o=e.responseType&&"text"!==e.responseType?A.response:A.responseText,i={data:o,status:1223===A.status?204:A.status,statusText:1223===A.status?"No Content":A.statusText,headers:n,config:e,request:A};r(t,f,i),A=null}},A.onerror=function(){f(u("Network Error",e,null,A)),A=null},A.ontimeout=function(){f(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",A)),A=null},o.isStandardBrowserEnv()){var v=n(34),y=(e.withCredentials||a(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;y&&(l[e.xsrfHeaderName]=y)}if("setRequestHeader"in A&&o.forEach(l,function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete l[t]:A.setRequestHeader(t,e)}),e.withCredentials&&(A.withCredentials=!0),e.responseType)try{A.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&A.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&A.upload&&A.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){A&&(A.abort(),f(e),A=null)}),void 0===d&&(d=null),A.send(d)})}},12:function(e,t,n){"use strict";var o=n(29);e.exports=function(e,t,n,r,i){var s=new Error(e);return o(s,t,n,r,i)}},127:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(128),i=o(r);o(n(2)).default.filter("date",function(e,t){return i.default.format(new Date(e),t)})},128:function(e,t,n){"use strict";var o;!function(r){function i(e,t){for(var n=[],o=0,r=e.length;o<r;o++)n.push(e[o].substr(0,t));return n}function s(e){return function(t,n,o){var r=o[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~r&&(t.month=r)}}function a(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var u={},c=/d{1,4}|M{1,4}|yy(?:yy)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,f=/\d\d?/,d=/\d{3}/,l=/\d{4}/,A=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,p=function(){},h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=["January","February","March","April","May","June","July","August","September","October","November","December"],g=i(m,3),v=i(h,3);u.i18n={dayNamesShort:v,dayNames:h,monthNamesShort:g,monthNames:m,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10)*e%10]}};var y={D:function(e){return e.getDay()},DD:function(e){return a(e.getDay())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDate()},dd:function(e){return a(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return a(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return String(e.getFullYear()).substr(2)},yyyy:function(e){return e.getFullYear()},h:function(e){return e.getHours()%12||12},hh:function(e){return a(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return a(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return a(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return a(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return a(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return a(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+a(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},w={d:[f,function(e,t){e.day=t}],M:[f,function(e,t){e.month=t-1}],yy:[f,function(e,t){var n=new Date,o=+(""+n.getFullYear()).substr(0,2);e.year=""+(t>68?o-1:o)+t}],h:[f,function(e,t){e.hour=t}],m:[f,function(e,t){e.minute=t}],s:[f,function(e,t){e.second=t}],yyyy:[l,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=100*t}],SS:[/\d{2}/,function(e,t){e.millisecond=10*t}],SSS:[d,function(e,t){e.millisecond=t}],D:[f,p],ddd:[A,p],MMM:[A,s("monthNamesShort")],MMMM:[A,s("monthNames")],a:[A,function(e,t,n){var o=t.toLowerCase();o===n.amPm[0]?e.isPm=!1:o===n.amPm[1]&&(e.isPm=!0)}],ZZ:[/[\+\-]\d\d:?\d\d/,function(e,t){var n,o=(t+"").match(/([\+\-]|\d\d)/gi);o&&(n=60*o[1]+parseInt(o[2],10),e.timezoneOffset="+"===o[0]?n:-n)}]};w.DD=w.D,w.dddd=w.ddd,w.Do=w.dd=w.d,w.mm=w.m,w.hh=w.H=w.HH=w.h,w.MM=w.M,w.ss=w.s,w.A=w.a,u.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/D/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},u.format=function(e,t,n){var o=n||u.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");return t=u.masks[t]||t||u.masks.default,t.replace(c,function(t){return t in y?y[t](e,o):t.slice(1,t.length-1)})},u.parse=function(e,t,n){var o=n||u.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=u.masks[t]||t,e.length>1e3)return!1;var r=!0,i={};if(t.replace(c,function(t){if(w[t]){var n=w[t],s=e.search(n[0]);~s?e.replace(n[0],function(t){return n[1](i,t,o),e=e.substr(s+t.length),t}):r=!1}return w[t]?"":t.slice(1,t.length-1)}),!r)return!1;var s=new Date;!0===i.isPm&&null!=i.hour&&12!=+i.hour?i.hour=+i.hour+12:!1===i.isPm&&12==+i.hour&&(i.hour=0);var a;return null!=i.timezoneOffset?(i.minute=+(i.minute||0)-+i.timezoneOffset,a=new Date(Date.UTC(i.year||s.getFullYear(),i.month||0,i.day||1,i.hour||0,i.minute||0,i.second||0,i.millisecond||0))):a=new Date(i.year||s.getFullYear(),i.month||0,i.day||1,i.hour||0,i.minute||0,i.second||0,i.millisecond||0),a},void 0!==e&&e.exports?e.exports=u:void 0!==(o=function(){return u}.call(t,n,t,e))&&(e.exports=o)}()},129:function(e,t){},13:function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},130:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),i=o(r),s=n(57),a=n(131),u=o(a);t.default={methods:{getWechatJsSign:function(){return(0,s.getWechatJsSign)({url:location.href.split("#")[0]}).then(function(e){var t=e.data;return(0,i.default)(u.default,{signature:t.signature,url:t.url,appId:t.appId||u.default.appId,timestamp:t.timestamp,nonceStr:t.noncestr}),window.wx.config(u.default),t})},previewImage:function(e,t){var n=[];t.forEach(function(e,t){n.push(e.dataset.url)}),wx.previewImage({current:e,urls:n})},openLocation:function(e,t,n,o){wx.openLocation({latitude:e,longitude:t,name:n,address:o,scale:28,infoUrl:""})},getOwnPermissions:function(e){var t=this.$root.permissions||[],n=!1;return t.some(function(t){return t.name==e})&&(n=!0),n},share:function(e){var t=(0,i.default)({},e);wx.onMenuShareTimeline(t),wx.onMenuShareAppMessage(t),wx.onMenuShareQQ(t),wx.onMenuShareWeibo(t),wx.onMenuShareQZone(t),wx.showOptionMenu()}}}},131:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,appId:"wx8d2c6e4d8907451a",timestamp:1490176842,nonceStr:"bldxw1zv28",signature:"7c0ed8e6d1da24e4dbb56e6fd2a20d787e50d314",jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","translateVoice","startRecord","stopRecord","onVoiceRecordEnd","playVoice","onVoicePlayEnd","pauseVoice","stopVoice","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"]}},14:function(e,t,n){"use strict";function o(e){this.message=e}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,e.exports=o},23:function(e,t,n){e.exports=n(24)},24:function(e,t,n){"use strict";function o(e){var t=new s(e),n=i(s.prototype.request,t);return r.extend(n,s.prototype,t),r.extend(n,t),n}var r=n(1),i=n(10),s=n(26),a=n(6),u=o(a);u.Axios=s,u.create=function(e){return o(r.merge(a,e))},u.Cancel=n(14),u.CancelToken=n(40),u.isCancel=n(13),u.all=function(e){return Promise.all(e)},u.spread=n(41),e.exports=u,e.exports.default=u},25:function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function o(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||o(e)||!!e._isBuffer)}},26:function(e,t,n){"use strict";function o(e){this.defaults=e,this.interceptors={request:new s,response:new s}}var r=n(6),i=n(1),s=n(35),a=n(36);o.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),e=i.merge(r,this.defaults,{method:"get"},e),e.method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],function(e){o.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){o.prototype[e]=function(t,n,o){return this.request(i.merge(o||{},{method:e,url:t,data:n}))}}),e.exports=o},27:function(e,t,n){"use strict";var o=n(1);e.exports=function(e,t){o.forEach(e,function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])})}},28:function(e,t,n){"use strict";var o=n(12);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(o("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},29:function(e,t,n){"use strict";e.exports=function(e,t,n,o,r){return e.config=t,n&&(e.code=n),e.request=o,e.response=r,e}},30:function(e,t,n){"use strict";function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var r=n(1);e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)&&(t+="[]"),r.isArray(e)||(e=[e]),r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))}))}),i=s.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},31:function(e,t,n){"use strict";var o=n(1),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(o.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=o.trim(e.substr(0,i)).toLowerCase(),n=o.trim(e.substr(i+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}}),s):s}},32:function(e,t,n){"use strict";var o=n(1);e.exports=o.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(r.setAttribute("href",t),t=r.href),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return t=e(window.location.href),function(n){var r=o.isString(n)?e(n):n;return r.protocol===t.protocol&&r.host===t.host}}():function(){return function(){return!0}}()},33:function(e,t,n){"use strict";function o(){this.message="String contains an invalid character"}function r(e){for(var t,n,r=String(e),s="",a=0,u=i;r.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&t>>8-a%1*8)){if((n=r.charCodeAt(a+=.75))>255)throw new o;t=t<<8|n}return s}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=r},34:function(e,t,n){"use strict";var o=n(1);e.exports=o.isStandardBrowserEnv()?function(){return{write:function(e,t,n,r,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),o.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),o.isString(r)&&a.push("path="+r),o.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},35:function(e,t,n){"use strict";function o(){this.handlers=[]}var r=n(1);o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},36:function(e,t,n){"use strict";function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var r=n(1),i=n(37),s=n(13),a=n(6),u=n(38),c=n(39);e.exports=function(e){return o(e),e.baseURL&&!u(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return o(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(o(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},37:function(e,t,n){"use strict";var o=n(1);e.exports=function(e,t,n){return o.forEach(n,function(n){e=n(e,t)}),e}},38:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},39:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},40:function(e,t,n){"use strict";function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}var r=n(14);o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},41:function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},57:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return(0,u.post)("/wechat/signature.json",{url:e.url,nonceStr:(0,f.default)(),timestamp:(0,l.default)()})}function i(e){return(0,u.post)("/user/login.do",e)}function s(e){return(0,u.post)("/common/getLoginUser.json",e)}function a(e){return(0,u.get)("/mediaTransfer/arm2mp3.json",{msgContentId:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.getWechatJsSign=r,t.login=i,t.getLoginUser=s,t.arm2mp3=a;var u=n(9),c=n(68),f=o(c),d=n(69),l=o(d)},58:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(71),r=function(){return o.parseQuery(window.location.search)};t.default=r},6:function(e,t,n){"use strict";(function(t){function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var r=n(1),i=n(27),s={"Content-Type":"application/x-www-form-urlencoded"},a={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(11):void 0!==t&&(e=n(11)),e}(),transformRequest:[function(e,t){return i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){a.headers[e]={}}),r.forEach(["post","put","patch"],function(e){a.headers[e]=r.merge(s)}),e.exports=a}).call(t,n(60))},68:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return Math.random().toString(36).substr(2,15)}},69:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return parseInt((new Date).getTime()/1e3)+""}},71:function(e,t,n){"use strict";function o(e){var t={};if("string"==typeof e&&e.length>1){var n=0,o=e.charAt(0);if("?"===o)n=1;else if("#"===o){n=1;var r=e.charAt(1);"/"===r&&(n=2)}n>0&&(e=e.substr(n)),e.split("&").forEach(function(e,n){var o=e.split("=");if(2===o.length){var r=o[0].trim(),i=o[1].trim()||"",s=i.indexOf("#");r.indexOf("?")>0&&(r=r.split("?")[1]),s>=0&&(i=i.substring(0,s)),r&&(t[r]=decodeURIComponent(i))}})}return t}function r(e){return e||(e=document.URL),t.parse(e).origin}function i(e){var t=document.createElement("a");t.href=e,e=t.href;var n="";t.protocol&&t.host?n=t.protocol+"//"+t.host:/^(http[s]?:\/\/[^\/]+)(?=\/)/.test(e)&&(n=RegExp.$1);var o=n.split(":");0===n.indexOf("http:")&&3===o.length&&80==o[2]&&(o.length=2,n=o.join(":"));var r=t.pathname;return r&&"/"!==r.charAt(0)&&(r="/"+r),{origin:n,pathname:r,search:t.search}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseQuery=o,t.getOrigin=r,t.parse=i},77:function(e,t,n){"use strict";function o(){return(0,a.get)("/qiniu/uptoken")}function r(e){return(0,a.post)("/storage/upload.json",e)}function i(e){return(0,a.post)("/patient/bindWechat.json",{name:e.name,mobile:e.mobile,age:e.age,gender:e.gender})}function s(e){return(0,a.post)("/common/getLoginUser.json",{})}Object.defineProperty(t,"__esModule",{value:!0}),t.uptoken=o,t.upload=r,t.bindWechat=i,t.getLoginUser=s;var a=n(9)},786:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(2),i=o(r),s=n(54),a=o(s);n(129),n(790);var u=n(791),c=o(u),f=n(72),d=o(f);n(816),window.toast=function(e){(0,d.default)(e)},n(127),n(83),i.default.use(a.default),new i.default({render:function(e){return e("div",{attrs:{id:"app"},class:"app"},[e("chat",null,[])])},components:{Chat:c.default}}).$mount("#app")},790:function(e,t){},791:function(e,t,n){function o(e){n(792)}var r=n(0)(n(793),n(815),o,null,null);e.exports=r.exports},792:function(e,t){},793:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(794),i=o(r),s=n(799),a=o(s);t.default={name:"app",components:{Heads:i.default,ChatList:a.default}}},794:function(e,t,n){function o(e){n(795)}var r=n(0)(n(796),n(797),o,"data-v-29917e2d",null);e.exports=r.exports},795:function(e,t){},796:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"heads",data:function(){return{vociceOpen:!0}}}},797:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"top"},[o("img",{staticClass:"head",attrs:{src:n(798)}}),e._v(" "),o("span",{staticClass:"name"},[e._v("客服MM")]),e._v(" "),o("span",{staticClass:"voice"},[o("i",{staticClass:"fa",class:e.vociceOpen?"icon-volume-up":"icon-volume-down",attrs:{"aria-hidden":"true"},on:{click:function(t){e.vociceOpen=!e.vociceOpen}}})])])},staticRenderFns:[]}},798:function(e,t){e.exports="data:image/png;base64,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"},799:function(e,t,n){var o=n(0)(n(800),n(814),null,null,null);e.exports=o.exports},800:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(801),i=o(r),s=n(803),a=(o(s),n(54)),u=n(77),c=n(804),f=o(c),d=n(806),l=o(d),A=n(810),p=o(A),h=n(58),m=o(h),g=n(130),v=o(g),y=null;t.default={mixins:[v.default],name:"chatlist",data:function(){return{showSelBox:0,selFace:"表情",selOther:"其他功能",content:"",isShowKeyboard:!1,recording:!1,websocket:null,topStatus:"",sending:!1,list:[],userInfo:{id:1,roleType:2},records:[]}},methods:{record:function(e){var t=this,n=this.recording;e?n||(wx.startRecord(),this.recording=!0):(this.recording=!1,wx.stopRecord({success:function(e){t.sendVoiceMsg(e.localId)}}))},sendVoiceMsg:function(e){var t=this.websocket;console.log("localId",e),wx.uploadVoice({localId:e,isShowProgressTips:1,success:function(e){var n=e.serverId;console.log("serverId",n),t.send((0,i.default)({type:"CHAT",msgType:"VOICE",msgContent:{mediaId:n}}))}})},bindEvent:function(){var e=this;this.$refs["record-btn"].addEventListener("touchstart",this.touchStartHandler,!1),this.$refs["record-btn"].addEventListener("touchend",this.touchEndHandler,!1),wx.ready(function(){console.log("wx ready"),wx.onVoicePlayEnd({success:function(t){e.sendVoiceMsg(t.localId)}})})},touchStartHandler:function(e){var t=this;e.preventDefault(),y&&clearTimeout(y),y=setTimeout(function(){console.log("start voice"),t.record(1)},1e3)},touchEndHandler:function(e){clearTimeout(y),console.log("end voice"),this.record(0)},changePicture:function(e){if(e){var t=e[0],n=new FormData,o=this.websocket;n.append("file",t),a.Indicator.open("加载中…"),(0,u.upload)(n).then(function(e){a.Indicator.close(),toast("图片上传成功"),console.log((0,i.default)({type:"CHAT",msgType:"image",msgContent:{picUrl:e.data.url}})),o.send((0,i.default)({type:"CHAT",msgType:"image",msgContent:{picUrl:e.data.url}}))}).catch(function(){a.Indicator.close()})}},msgGroupItem:function(){return{formattedTime:"",timeStamp:0,list:[]}},createGroupMsg:function(e){var t=this.msgGroupItem();return t.formattedTime=(0,f.default)(e.createTime),t.timeStamp=e.createTime,t.list=t.list.concat(e),t},timeStampToMinute:function(e){return(""+e).slice(0,10)},insertBefore:function(e){var t=null,n=this.list,o=n.length,r=o?n[0]:null;return r?this.timeStampToMinute(r.timeStamp)-this.timeStampToMinute(e.createTime)>=300?t=this.createGroupMsg(e):r.list=[].concat(e).concat(r.list):t=this.createGroupMsg(e),t},appendMsg:function(e){var t=null,n=this.list,o=n.length,r=o?n[o-1]:null;return r?this.timeStampToMinute(e.createTime)-this.timeStampToMinute(r.timeStamp)>=300?t=this.createGroupMsg(e):r.list=r.list.concat(e):t=this.createGroupMsg(e),t},formatChatTime:f.default,initScoket:function(){function e(e){console.log("Connected to WebSocket server.")}function t(e){a.websocket=null,console.log("Disconnected")}function n(e){console.log("Error occured: "+e.data)}var o=(location.host,(0,m.default)()),r=o.openId,i=o.chatUserId,s=o.chatUserRole,a=this;if(!r)return void toast("没有openId");var u="openId="+r;i&&(u+="&chatUserId="+i),s&&(u+="&chatUserRole="+s);var c="ws://xm.56xg.com/chat.ws?"+u,f=new WebSocket(c);this.websocket=f,f.addEventListener("open",e),f.addEventListener("close",t),f.addEventListener("error",n),f.addEventListener("message",this.processMessage)},processMessage:function(e){var t=this;this.sending=!1;var n=JSON.parse(e.data);console.log(n),"CHAT"==n.type?(this.receiveMessage(n),this.scrollToBottom()):"LOGIN_INFO"==n.type?(this.userInfo=n.userInfo,this.setTitle("咨询"+n.chatUser.name||""),setTimeout(function(){t.getWechatJsSign()}),setTimeout(function(){t.loadHistory()}),this.scrollToBottom()):"CHAT_HISTORY"==n.type&&(this.loadMessage(n.msgList),this.$refs.loadmore.onTopLoaded())},sendMsg:function(){var e=this.websocket,t=this.content.trim();return t?e?(this.sending=!0,e.send((0,i.default)({type:"CHAT",msgType:"text",msgContent:{content:t}})),void(this.content="")):void toast("socket没有连接成功"):void toast("请输入消息内容")},receiveMessage:function(e){var t=this,e=[].concat(e);e.forEach(function(e){var n=t.appendMsg(e);n&&(t.list=t.list.concat(n))})},loadMessage:function(e){for(var e=[].concat(e),t=e.length-1;t>=0;t--){var n=this.insertBefore(e[t]);n&&(this.list=[].concat(n).concat(this.list))}},focusTxtContent:function(){var e=this;setTimeout(function(){e.$refs["message-input"].focus()},1e3)},scrollToBottom:function(){setTimeout(function(){var e=document.getElementsByClassName("mint-loadmore")[0];e.scrollTop=e.scrollHeight},100)},previewImg:function(e){this.previewImage(e,document.querySelectorAll(".chat-pic"))},handleTopChange:function(e){this.topStatus=e},getFirstMsgId:function(){var e=this.list;if(!e.length)return null;var t=e[0],n=t.list;return n&&n.length?n[0].msgId:""},loadHistory:function(){var e=this.websocket;e&&e.send((0,i.default)({type:"CHAT_HISTORY",length:10,firstMsgId:this.getFirstMsgId()}))},loadTop:function(e){this.loadHistory()},setTitle:function(e){document.title=e;var t=document.createElement("iframe");t.src="//m.baidu.com/favicon.ico",t.style.display="none",t.onload=function(){setTimeout(function(){t.remove()},9)},document.body.appendChild(t)}},components:{Upload:l.default,AudioPlayer:p.default},beforeDestroy:function(){console.log("destroy");var e=this.websocket;e&&e.close()},mounted:function(){this.focusTxtContent(),this.initScoket(),this.bindEvent()}}},803:function(e,t,n){"use strict";function o(e,t){for(var t=t-(e+"").length,n=0;n<t;n++)e="0"+e;return e}Object.defineProperty(t,"__esModule",{value:!0});var r=/([yMdhsm])(\1*)/g;t.default={getQueryStringByName:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t),o="";return null!=n&&(o=n[2]),t=null,n=null,null==o||""==o||"undefined"==o?"":o},formatDate:{format:function(e,t){return t=t||"yyyy-MM-dd",t.replace(r,function(t){switch(t.charAt(0)){case"y":return o(e.getFullYear(),t.length);case"M":return o(e.getMonth()+1,t.length);case"d":return o(e.getDate(),t.length);case"w":return e.getDay()+1;case"h":return o(e.getHours(),t.length);case"m":return o(e.getMinutes(),t.length);case"s":return o(e.getSeconds(),t.length)}})},parse:function(e,t){var n=t.match(r),o=e.match(/(\d)+/g);if(n.length==o.length){for(var i=new Date(1970,0,1),s=0;s<n.length;s++){var a=parseInt(o[s]);switch(n[s].charAt(0)){case"y":i.setFullYear(a);break;case"M":i.setMonth(a-1);break;case"d":i.setDate(a);break;case"h":i.setHours(a);break;case"m":i.setMinutes(a);break;case"s":i.setSeconds(a)}}return i}return null}}}},804:function(e,t,n){"use strict";function o(e){var t=new Date(e),n=t.getFullYear(),o=t.getMonth()+1,r=t.getDate(),s=t.getHours(),a=t.getMinutes();return n+"/"+o+"/"+r+"/"+(s>12?" 下午 ":" 上午 ")+(0,i.default)(s)+":"+(0,i.default)(a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(805),i=function(e){return e&&e.__esModule?e:{default:e}}(r)},805:function(e,t,n){"use strict";function o(e){return(e<10?"0":"")+e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},806:function(e,t,n){function o(e){n(807)}var r=n(0)(n(808),n(809),o,null,null);e.exports=r.exports},807:function(e,t){},808:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{accept:{type:String,default:"image/*"},isIphone:{default:function(){return navigator.userAgent.indexOf("iPhone")>-1}},multiple:{type:Boolean,default:!1}},methods:{fileInputChange:function(){this.$emit("change",this.$refs.inputFile.files),this.reset()},reset:function(){this.$refs.form.reset()}}}},809:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload-wrapper clearfix"},[n("div",{staticClass:"upload-btn"},[e._t("default"),e._v(" "),n("form",{ref:"form",attrs:{onsubmit:"return false"}},[e.isIphone?n("input",{ref:"inputFile",attrs:{type:"file",capture:"camera",accept:e.accept,multiple:e.multiple},on:{change:e.fileInputChange}}):n("input",{ref:"inputFile",attrs:{type:"file",accept:e.accept,multiple:e.multiple},on:{change:e.fileInputChange}})])],2)])},staticRenderFns:[]}},810:function(e,t,n){function o(e){n(811)}var r=n(0)(n(812),n(813),o,null,null);e.exports=r.exports},811:function(e,t){},812:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(57);t.default={props:["seconds","url","msgid","maxWidth","minWidth"],data:function(){return{audio:null,loading:!1,isLoaded:!1,status:0,timer:null,timerSeconds:this.seconds}},computed:{audios:function(){return this.$root.audios||[]}},mounted:function(){this.init()},methods:{calcProgress:function(){var e=this.audio;this.timerSeconds=Math.max(this.seconds-e.currentTime,0)},countDown:function(){var e=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.calcProgress(),e.countDown()})},calcWidth:function(){var e=this.minWidth||85,t=this.maxWidth||200,n=this.seconds,o=Math.round(n/1.5);return o<e?e:o>t?t:o},play:function(){this.audios.forEach(function(e){e.pause()}),this.countDown(),this.audio.play(),this.status=1},pause:function(){this.audio.pause(),clearTimeout(this.timer),this.status=0},run:function(e){var t=this;this.status?this.pause():this.isLoaded?this.play():(this.loading=!0,this.url||this.isLoaded||(0,o.arm2mp3)(this.msgid).then(function(e){var n=e.data.mp3Url;t.initLoadAudio(n,!0)},function(){t.loading=!1})),e.stopPropagation()},initLoadAudio:function(e,t){var n=this,o=this.audio;o.src=e,o.addEventListener("ended",function(){n.status=0,clearTimeout(n.timer),n.timerSeconds=n.seconds}),o.addEventListener("loadeddata",function(){n.isLoaded=!0,n.loading=!1,t&&n.play()})},init:function(){var e=this.url,t=document.createElement("audio");if(this.audio=t,e&&this.initLoadAudio(e),this.$store)this.$store.dispatch("addAudio",this);else{this.$root.audios||(this.$root.audios=[]),this.$root.audios.push(this)}}},beforeDestroy:function(){if(this.$store)this.$store.commit("REMOVE_AUDIOS",this);else{var e=this.$root.audios,t=e.indexOf(this);this.$root.audios.splice(t,1)}this.status=0,this.audio=null}}},813:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"audio-player",class:{playing:1==e.status},style:{width:e.calcWidth()+"px"},on:{click:e.run}},[e.loading?e._e():n("div",[n("i",{staticClass:"icon-wave-right"}),n("span",{staticClass:"audio-length"},[e._v(e._s(Math.floor(this.timerSeconds/60)+"'"+Math.round(this.timerSeconds%60))+"\n\t\t")])]),e.loading?n("div",[e._v("下载中...\n\t")]):e._e()])},staticRenderFns:[]}},814:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.recording?n("div",{staticClass:"recording-notice clearfix"},[n("div",{staticClass:"icon icon-record"}),e._v(" "),n("div",{staticClass:"recording"},[e._v("\n            录音中…\n        ")])]):e._e(),e._v(" "),n("section",{staticClass:"chatlist"},[n("mt-loadmore",{ref:"loadmore",attrs:{"top-method":e.loadTop,"top-pull-text":"加载更多","top-drop-text":"释放加载"},on:{"top-status-change":e.handleTopChange}},[n("ul",[e._l(e.list,function(t){return[n("p",{staticClass:"time"},[e._v(e._s(t.formattedTime))]),e._v(" "),e._l(t.list,function(t,o){return n("li",{key:o,class:{"chat-mine":t.fromUserId==e.userInfo.id&&t.fromUserRole==e.userInfo.roleType,"chat-image":"image"==t.msgType,"chat-voice":"voice"==t.msgType}},[n("div",{staticClass:"chat-user"},[n("img",{attrs:{src:t.fromUserAvatar}})]),e._v(" "),"text"==t.msgType?n("pre",{staticClass:"chat-text",domProps:{textContent:e._s(t.msgContent.content)}}):"image"==t.msgType?n("pre",{staticClass:"chat-text text-image",on:{click:function(n){e.previewImg(t.msgContent.picUrl)}}},[n("img",{staticClass:"chat-pic",attrs:{width:"110",height:"110","data-url":t.msgContent.picUrl,src:e._f("compressImage")(t.msgContent.picUrl,110,110)}})]):"voice"==t.msgType?n("pre",{staticClass:"chat-text text-voice"},[n("audio-player",{attrs:{seconds:t.msgContent.seconds,url:t.msgContent.mp3Url,msgid:t.msgContent.id}})],1):e._e()])})]})],2)])],1),e._v(" "),n("section",{staticClass:"foot clearfix"},[n("upload",{staticClass:"left upload-wrap",on:{change:e.changePicture}},[n("span",{staticClass:"icon icon-plus"})]),e._v(" "),e.isShowKeyboard?e._e():n("span",{staticClass:"icon icon-voice left",on:{click:function(t){e.isShowKeyboard=!e.isShowKeyboard}}}),e._v(" "),e.isShowKeyboard?n("span",{staticClass:"icon icon-keyboard left",on:{click:function(t){e.isShowKeyboard=!e.isShowKeyboard}}}):e._e(),e._v(" "),n("mt-button",{staticClass:"btn btn-send",attrs:{disabled:e.sending,type:"primary"},on:{click:e.sendMsg}},[e._v("发送")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowKeyboard,expression:"isShowKeyboard"}],ref:"record-btn",staticClass:"record-btn",class:{recording:e.recording},on:{click:e.record}},[e._v("\n            "+e._s(e.recording?"松开 结束":"按住 说话")+"\n        ")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShowKeyboard,expression:"!isShowKeyboard"}],staticClass:"con"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],ref:"message-input",attrs:{maxlength:100,autofocus:"",placeholder:"请输入消息"},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}})])],1)])},staticRenderFns:[]}},815:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("ChatList")],1)},staticRenderFns:[]}},816:function(e,t){},83:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(2),i=o(r),s=n(84),a=o(s);i.default.filter("compressImage",function(e,t,n){if(e&&e.indexOf("clouddn")<-1)return e;var e=e||"http://omh2h1x76.bkt.clouddn.com/user.png";return(0,a.default)(e,{width:t,height:n})})},84:function(e,t,n){"use strict";var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.width||0,o=t.height||0,r=e;n=Math.floor(n),o=Math.floor(o);var i=1;return i="undefined"!=typeof window?window.devicePixelRatio:2,i&&i>1&&(n=Math.floor(n*i),o=Math.floor(o*i)),r+="?imageView2/2",n||o?n?r+="/w"+n:o?r="/w"+o:void 0:r};e.exports=o},9:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l.default.post(e,t)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l.default.post(e,A.stringify(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l.default.delete(e,{params:t})}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l.default.get(e,{params:t})}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l.default.put(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(56),f=o(c);t.post=r,t.form=i,t.del=s,t.get=a,t.put=u;var d=n(23),l=o(d),A=n(76);l.default.interceptors.request.use(function(e){return e.headers["X-Requested-With"]="XMLHttpRequest",e},function(e){return f.default.reject(e)}),l.default.interceptors.response.use(function(e){var t=e.data;return"string"==typeof t&&(t=JSON.parse(t)),0===t.code?t:(toast(t.msg||"系统异常","error"),f.default.reject(t))},function(e){return toast("系统异常","error"),f.default.reject(e)})}},[786]);