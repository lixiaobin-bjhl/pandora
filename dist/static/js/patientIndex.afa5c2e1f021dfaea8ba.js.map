{"version":3,"sources":["webpack:///static/js/patientIndex.afa5c2e1f021dfaea8ba.js","webpack:///./src/common/service.js?d4b8*","webpack:///./src/m/request.js?c223*","webpack:///./src/m/patientIndex.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","7","_interopRequireDefault","obj","__esModule","default","post","url","data","arguments","length","undefined","_axios2","form","querystring","stringify","headers","Content-Type","del","delete","params","get","put","Object","defineProperty","value","_promise","_promise2","_axios","interceptors","request","use","config","error","reject","response","JSON","parse","code","toast","message","10","uptoken","_service","upload","bindWechat","name","mobile","age","getLoginUser","95","init","_request","then","res","window","location","href"],"mappings":"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","file":"static/js/patientIndex.afa5c2e1f021dfaea8ba.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(95);\n\n\n/***/ }),\n\n/***/ 7:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _promise = __webpack_require__(23);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\texports.post = post;\n\texports.form = form;\n\texports.del = del;\n\texports.get = get;\n\texports.put = put;\n\t\n\tvar _axios = __webpack_require__(21);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar querystring = __webpack_require__(33);\n\t\n\t_axios2.default.interceptors.request.use(function (config) {\n\t    config.headers['X-Requested-With'] = 'XMLHttpRequest';\n\t    return config;\n\t}, function (error) {\n\t    return _promise2.default.reject(error);\n\t});\n\t\n\t_axios2.default.interceptors.response.use(function (response) {\n\t    var data = response.data;\n\t    if (typeof data === 'string') {\n\t        data = JSON.parse(data);\n\t    }\n\t    if (data.code === 0) {\n\t        return data;\n\t    } else {\n\t        toast(data.message || '系统异常', 'error');\n\t        return _promise2.default.reject(data);\n\t    }\n\t}, function (error) {\n\t    toast('系统异常', 'error');\n\t    return _promise2.default.reject(error);\n\t});\n\t\n\tfunction errorHandler(response) {\n\t    var code = response.code;\n\t}\n\t\n\tfunction post(url) {\n\t    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t    return _axios2.default.post(url, data);\n\t}\n\t\n\tfunction form(url) {\n\t    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t    return _axios2.default.post(url, querystring.stringify(data), {\n\t        headers: {\n\t            \"Content-Type\": \"application/x-www-form-urlencoded\"\n\t        }\n\t    });\n\t}\n\t\n\tfunction del(url) {\n\t    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t    return _axios2.default.delete(url, {\n\t        params: data\n\t    });\n\t}\n\t\n\tfunction get(url) {\n\t    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t    return _axios2.default.get(url, {\n\t        params: data\n\t    });\n\t}\n\t\n\tfunction put(url) {\n\t    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t    return _axios2.default.put(url, data);\n\t}\n\n/***/ }),\n\n/***/ 10:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\n\t\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.uptoken = uptoken;\n\texports.upload = upload;\n\texports.bindWechat = bindWechat;\n\texports.getLoginUser = getLoginUser;\n\t\n\tvar _service = __webpack_require__(7);\n\t\n\tfunction uptoken() {\n\t  return (0, _service.get)('/qiniu/uptoken');\n\t}\n\t\n\tfunction upload(params) {\n\t  return (0, _service.post)('/storage/upload.json', params);\n\t}\n\t\n\tfunction bindWechat(params) {\n\t  return (0, _service.post)('/patient/bindWechat.json', {\n\t    name: params.name,\n\t    mobile: params.mobile,\n\t    age: params.age\n\t  });\n\t}\n\t\n\tfunction getLoginUser(params) {\n\t  return (0, _service.post)('/common/getLoginUser.json', {});\n\t}\n\n/***/ }),\n\n/***/ 95:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _request = __webpack_require__(10);\n\t\n\tfunction init() {\n\t    (0, _request.getLoginUser)().then(function (res) {\n\t        var data = res.data;\n\t        var url = '';\n\t        if (data.mobile) {\n\t            url = 'chat.html';\n\t        } else {\n\t            url = 'bindTel.html';\n\t        }\n\t        window.location.href = url;\n\t    });\n\t}\n\tinit();\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/patientIndex.afa5c2e1f021dfaea8ba.js","/**\n * @fileOverview service util\n * @author XiaoBin Li(lixiaobin8878@gmail.com)\n */\n\n'use strict';\n\nimport axios from 'axios';\nvar querystring = require('querystring');\n\n/**\n * 添加ajax request interceptor\n */\naxios.interceptors.request.use(function (config) {\n    config.headers['X-Requested-With'] = 'XMLHttpRequest';\n    return config;\n}, function (error) {\n    return Promise.reject(error);\n});\n\n/**\n * 添加ajax response interceptor\n */\naxios.interceptors.response.use(function (response) {\n    var data = response.data;\n    if (typeof data === 'string') {\n        data = JSON.parse(data);\n    }\n    if (data.code === 0) {\n        return data;\n    } else {\n        toast(data.message || '系统异常', 'error');\n        return Promise.reject(data);\n    }\n}, function (error) {\n    toast('系统异常', 'error');\n    return Promise.reject(error);\n});\n\n/**\n * 错误处理\n *\n * @inner\n * @param {Object} response 返回的 JSON 数据\n * @return {Object}\n */\nfunction errorHandler(response) {\n    var code = response.code;\n}\n\n/**\n * 发送 post 请求\n *\n * @param {string} url 请求 url\n * @param {Object} data 发送的数据\n * @return {Promise}\n */\nexport function post(url, data = {}) {\n    return axios.post(url, data);\n}\n\n/**\n * post form参数请求\n *\n * @param {string} url 请求 url\n * @param {Object} data 发送的数据\n * @return {Promise}\n */\nexport function form(url, data = {}) {\n    return axios.post(url, \n        querystring.stringify(data), \n        {\n            headers: { \n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n            }\n        }\n    );\n}\n\n/**\n * 发送 delete 请求\n *\n * @param {string} url 请求 url\n * @param {Object} data 发送的数据\n * @return {Promise}\n */\nexport function del(url, data = {}) {\n    return axios.delete(url, {\n        params: data\n    });\n}\n\n/**\n * 发送 get 请求\n *\n * @param {string} url 请求 url\n * @param {Object} data 发送的数据\n * @return {Promise}\n */\nexport function get(url, data = {}) {\n    return axios.get(url, {\n        params: data\n    });\n}\n\n/**\n * 发送 update 请求\n *\n * @param {string} url 请求 url\n * @param {Object} data 发送的数据\n * @return {Promise}\n */\nexport function put(url, data = {}) {\n    return axios.put(url, data);\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/service.js","/**\n * @fileOverview pandora-m-request\n * @author XiaoBin Li(lixiaobin8878@gmail.com)\n */\n\n'use strict';\n\nimport  { post, form, get } from '../common/service'\n\n/** \n * 获取上传产品token \n */\nexport function uptoken () {\n    return get('/qiniu/uptoken');\n}\n\n/**\n * 上传图片\n * @param {string} params.token 上传token\n * @param {Object} params.file 上传图片本身\n */\nexport function upload (params) {\n    return post('/storage/upload.json', params)\n}\n\n/**\n * 绑定用户信息\n * \n * @param {string} params.name 用户名\n * @param {string} params.mobile 手机\n * @param {number} params.age 年龄\n * \n * @return {Promise}\n */\nexport function bindWechat (params) {\n    return post('/patient/bindWechat.json', {\n        name: params.name,\n        mobile: params.mobile,\n        age: params.age\n    });\n}\n\n/**\n * 获取用户登录信息 \n */\nexport function getLoginUser (params) {\n    return post('/common/getLoginUser.json', {});\n}\n\n\n// WEBPACK FOOTER //\n// ./src/m/request.js","\nimport { getLoginUser } from './request';\n\nfunction init () {\n    getLoginUser()\n        .then((res)=>{\n            var data = res.data;\n            var url = '';\n            if (data.mobile) {\n                url = 'chat.html';\n            } else {\n                url = 'bindTel.html';\n            }\n            window.location.href = url;\n        });\n}\ninit();\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/m/patientIndex.js"],"sourceRoot":""}